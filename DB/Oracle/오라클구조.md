# Oracle - 구조
* 오라클DB에 관련한 구조 기초를 정리한다.

## DB(데이터베이스)
* 기업이 지속적으로 유지 관리해야 하는 데이터의 집합

## DBMS(데이터베이스 관리 시스템)
* 방대한 양의 데이터를 편리하게 저장하고 효율적으로 관리하고 검색할 수 있는 환경을 제공해주는 시스템 소프트웨어
<br>    

오라클의 구조는 크게 아래 세가지로 구성되는데,

## 1. 프로세스
* `백그라운드 프로세스`와 `사용자 프로세스`, 그리고 `서버 프로세스`로 구성된다. 
* 백그라운드 프로세스 : 오라클DB의 **현재 상태를 모니터링**하거나 사용자가 실행한 **SQL문을 처리**하는 프로세스
* **필수 백그라운드 프로세스** : 오라클 인스턴스가 가동될 때 시작하며, 인스턴스가 중지되면 정지하는 프로세스
  * 종류 : `DBWR`(DB Writer), `LGWR`(Log Writer), `PMON`(Process Monitor), `SMON`(System Monitor), `CKPT`(Check Point)

## 2. 메모리
* 시스템 글로벌 영역(SGA, System Global Area)에 위치
* 오라클DB 모든 사용자의 제어정보와 데이터를 포함하며, 사용자가 실행하는 **SQL문에 의해 검색·변경 되는 테이블 데이터를 저장하는 오라클 서버의 공유 메모리 영역**
* `공유풀(Shared pool)`, `데이터 버퍼 캐시(Data buffer cache)`, `로그버퍼(Log buffer)`, 그리고 `라지풀(Large pool)`로 구성된다.
* **공유풀(Shared pool)** : 
  * `라이브러리 캐시`와 `데이터 사전 캐시`, `버퍼`로 구성
  * 공유 SQL 영역 : SQL문장 하나를 실행하는데 이용된 정보를 갖고 있으며, 동일한 SQL문을 실행하는 프로세스들간에 정보를 공유, 완전히 동일한 문장만 같은 메모리에 위치
  * 데이터 사전 캐시 : DB와 그 구조, 테이블과 뷰의 이름, 테이블의 컬럼명과 타입, 모든 사용자 권한을 저장 
* **데이터 버퍼 캐시(Data buffer cache)** : 
  * 디스크로부터 읽어온 블록(Blcok단위)의 데이터 복사본을 보관하는 메모리 영역
  * 사용자가 실행한 SQL문에 정의된 테이블이 존재하는 데이터 파일로부터 테이블을 읽어 저장하는 공간으로,    
    **데이터 수정이 일어나기 전의 데이터를 보관하는 Before image**와 **수정후에 데이터를 보관하는 After image**로 구성 
  * 캐시실패 : 데이터를 처음 Access하면 서버 프로세스는 디스크로부터 데이터를 읽어 캐시에 올린다.
  * 캐시적중 : 데이터에 Access할 때 이미 캐시에 있다면 메모리에서 직접 데이터를 읽는다.
* **(리두)로그버퍼((Redo)Log buffer)** : 
  * DB에서 일어난 모든 변화를 저장하는 메모리 공간
  * DB에서 발생한 모든 변화는 LGWR에 의해 리두로그파일에 저장
  * 리두로그버퍼는 DB의 변경 사항 정보를 유지하는 SGA에 있는 순환 버퍼
  * 리두로그버퍼의 크기는 오라클파라미터 LOG_BUFFER에서 지정한다.
* **라지풀(Large pool)** : 
  * DB관리자가 필요한 경우 사용할 수 있는 선택적인 메모리 영역
  * 많은 메모리를 필요로 하는 경우 설정하여 사용

## 3. 파일
* `데이터 파일`, `컨트롤 파일`, `리두로그 파일`, `파라미터 파일`
* 
